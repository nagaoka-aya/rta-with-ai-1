# サンプルプロジェクト

## システム機能設計書(バッチ)

### BA10601/期間内プロジェクト一覧出力バッチ

| 作成 | TIS | 2019/06/18 |
|------|-----|------------|

### システム名

| サンプルシステム | 変更 | TIS | 2022/05/01 |
|------------------|------|-----|------------|

### サブシステム名

| プロジェクト管理システム |
|--------------------------|

## 2. BA1060101(期間内プロジェクト一覧ファイル作成)

### 2.1. 処理概要

| 処理単位 | プロジェクトテーブルのデータ1件 |
|----------|---------------------------------|
| 処理順序 | なし                            |
| リカバリ方法 | 単純エクスポートなので不要    |

### 2.2. 起動パラメータ

| No. | パラメータ名 | パラメータID | 形式 | 備考 |
|-----|--------------|--------------|------|------|
| 1   | 業務日付     | businessDate | yyyyMMdd | パラメータとして指定されたbusinessDateは日付の設定より優先される。 |

### 2.3. 処理結果一覧

| No. | 終了コード | 障害コード | 処理結果 |
|-----|------------|------------|----------|
| 1   | 0          | -          | 正常に処理が終了した場合。 |

### 2.4. 入出力一覧

| No. | 入出力名 | 種別 | I/O | DBアクセス種別 | 備考 |
|-----|----------|------|-----|----------------|------|
| 1   | プロジェクトテーブル | テーブル | I | - | - |
| 2   | 期間内プロジェクト一覧ファイル | I/Fファイル | O | - | - |

### 2.5. 入力データ定義

#### 2.5.1. プロジェクトテーブル

| 取得項目 | No. | 取得元 | 取得項目 | 必須 | ドメイン情報 | 備考 |
|----------|-----|--------|----------|------|--------------|------|
| ドメイン名 | 1 | プロジェクトテーブル | プロジェクトID | - | - |
| ドメイン名 | 2 | プロジェクトテーブル | プロジェクト名 | - | - |
| ドメイン名 | 3 | プロジェクトテーブル | プロジェクト種別 | - | - |
| ドメイン名 | 4 | プロジェクトテーブル | プロジェクト分類 | - | - |
| ドメイン名 | 5 | プロジェクトテーブル | プロジェクト開始日付 | - | - |
| ドメイン名 | 6 | プロジェクトテーブル | プロジェクト終了日付 | - | - |
| ドメイン名 | 7 | プロジェクトテーブル | 組織ID | - | - |
| ドメイン名 | 8 | プロジェクトテーブル | 顧客ID | - | - |
| ドメイン名 | 9 | プロジェクトテーブル | プロジェクトマネージャ | - | - |
| ドメイン名 | 10 | プロジェクトテーブル | プロジェクトリーダ | - | - |
| ドメイン名 | 11 | プロジェクトテーブル | 備考 | - | - |
| ドメイン名 | 12 | プロジェクトテーブル | 売上高 | - | - |
| ドメイン名 | 13 | プロジェクトテーブル | バージョン番号 | - | - |

#### 取得条件

| プロジェクトテーブル.プロジェクト開始日付 | ≦ | 業務日付 |
|--------------------------------------------|----|----------|
| AND | プロジェクトテーブル.プロジェクト終了日付 | ≧ | 業務日付 |

#### ソート条件

| ORDER BY プロジェクトテーブル.プロジェクト開始日付, プロジェクトテーブル.プロジェクト終了日付, プロジェクトテーブル.プロジェクト名 |
|-------------------------------------------------------------------------------------------------------------------------------------|

### 2.6. 処理詳細

1. 業務日付取得
    - 区分指定なし（デフォルト）で業務日付を取得する。
2. 期間内プロジェクト一覧データ取得
    - 「2.5.1. プロジェクトテーブル」に基づき、処理対象データを取得する。
    - 処理対象データが0件の場合はバッチ処理を正常終了する。

| 終了コード | 障害コード | メッセージID | 埋め込み文字列 |
|------------|------------|--------------|----------------|
| 0          | -          | -            | -              |

3. 期間内プロジェクト一覧ファイルを出力
    - 処理対象データ全件を処理対象とし、「2.7.1. 期間内プロジェクト一覧ファイルを出力：期間内プロジェクト一覧ファイル」に基づき、ファイルを出力する。

### 2.7. 出力データ定義

#### 2.7.1. 期間内プロジェクト一覧ファイルを出力：期間内プロジェクト一覧ファイル

1. 項目定義
    - 【外部インタフェース設計書(I／Fファイル)_N21AA002／期間内プロジェクト一覧】を参照。

| ファイルID | N21AA002 |
|------------|----------|
| ファイル名 | 期間内プロジェクト一覧 |

2. 編集仕様

| No. | 項目ID | 項目名 | 編集元 | 編集仕様 | 備考 |
|-----|--------|--------|--------|----------|------|
| 1   | PROJECT_ID | プロジェクトID | プロジェクトテーブル | プロジェクトID | - |
| 2   | PROJECT_NAME | プロジェクト名 | プロジェクトテーブル | プロジェクト名 | - |
| 3   | PROJECT_TYPE | プロジェクト種別 | プロジェクトテーブル | プロジェクト種別 | - |
| 4   | PROJECT_CLASS | プロジェクト分類 | プロジェクトテーブル | プロジェクト分類 | - |
| 5   | PROJECT_START_DATE | プロジェクト開始日付 | プロジェクトテーブル | プロジェクト開始日付 | yyyy/MM/dd |
| 6   | PROJECT_END_DATE | プロジェクト終了日付 | プロジェクトテーブル | プロジェクト終了日付 | yyyy/MM/dd |
| 7   | ORGANIZATION_ID | 組織ID | プロジェクトテーブル | 組織ID | - |
| 8   | CLIENT_ID | 顧客ID | プロジェクトテーブル | 顧客ID | - |
| 9   | PROJECT_MANAGER | プロジェクトマネージャー | プロジェクトテーブル | プロジェクトマネージャー | - |
| 10  | PROJECT_LEADER | プロジェクトリーダー | プロジェクトテーブル | プロジェクトリーダー | - |
| 11  | NOTE | 備考 | プロジェクトテーブル | 備考 | - |
| 12  | SALES | 売上高 | プロジェクトテーブル | 売上高 | - |
| 13  | VERSION_NO | バージョン番号 | プロジェクトテーブル | バージョン番号 | - |