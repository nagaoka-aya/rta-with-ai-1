# サンプルプロジェクト

## 1. PJ名
|   |   |   |
|---|---|---|
| 1 | 1 | PJ名 |
| 1 | 5 | サンプルプロジェクト |
| 1 | 15 | 成果物名 |
| 1 | 19 | システム機能設計書（画面） |

## WA10202/プロジェクト照会
|   |   |   |
|---|---|---|
| 1 | 27 | 作成 |
| 1 | 29 | TIS |
| 1 | 33 | 2019/12/05 |
| 2 | 1 | システム名 |
| 2 | 5 | サンプルシステム |
| 2 | 27 | 変更 |
| 2 | 29 | TIS |
| 2 | 33 | 2022/12/13 |
| 3 | 1 | サブシステム名 |
| 3 | 5 | プロジェクト管理システム |

## 3. WA1020202(プロジェクト詳細画面)
### 3.1. 画面レイアウト

### 3.2. 一覧表示
| No. | 領域名 | ページング有無 | ソート条件 | 備考 |
|-----|--------|----------------|------------|------|
| 1   | ‐      | ‐              | ‐          | -    |

### 3.3. 画面項目定義
| No. | 表示情報 | ドメイン名 | 【内部設計情報】 画面項目名（物理） |
|-----|----------|-------------|------------------------------------|
| 1   | 事業部   | -           | project_name                       |
| 2   | 部門     | -           | project_name                       |
| 3   | PJ名     | -           | project_name                       |
| 4   | PJ種別   | -           | project_name                       |
| 5   | PJ分類   | -           | project_name                       |
| 6   | 売上高(千円) | -       | project_name                       |
| 7   | 顧客     | -           | project_name                       |
| 8   | PM       | -           | project_name                       |
| 9   | PL       | -           | project_name                       |
| 10  | 開始日   | -           | project_name                       |
| 11  | 終了日   | -           | project_name                       |
| 12  | 備考     | -           | project_name                       |

### 3.4. 入出力一覧
| No. | 入出力名 | 種別 | I/O | DBアクセス種別 | 備考 |
|-----|----------|------|-----|----------------|------|
| 1   | 組織     | テーブル | I | - | ○ |
| 2   | プロジェクト | テーブル | I | - | ○ |

### 3.5. 画面イベント一覧
| No. | 画面イベント名 | 発生タイミング | 画面イベント概要 | 正常時遷移先画面 | サーバ通信有無 |
|-----|----------------|----------------|------------------|------------------|----------------|
| 1   | 初期表示       | ‐              | パラメータとして受け取ったプロジェクトIDに紐づくプロジェクトを検索し、プロジェクト詳細画面を表示する。 | - | あり(同期) |
| 2   | 戻る           | 「戻る」ボタン押下 | プロジェクト検索画面を表示する。 | プロジェクト検索画面 | あり(同期) |
| 3   | 更新           | 「更新」ボタン押下 | プロジェクト更新画面を表示する | プロジェクト更新画面 | あり(同期) |

### 3.6. 画面イベント詳細
#### 3.6.1. 初期表示イベント
1. バリデーション処理
    - なし。
2. DBアクセス（検索処理）
    - (a) プロジェクト検索条件
        - 取得テーブル名: プロジェクト
        - 取得カラム名: プロジェクトID, プロジェクト名, プロジェクト種別, プロジェクト分類, 売上高, 顧客ID, プロジェクトマネージャー, プロジェクトリーダー, プロジェクト開始日付, プロジェクト終了日付, 備考, 組織名（事業部, 部門）
        - 結合条件: LEFT OUTER JOIN 組織 AS 部門 ON プロジェクト．組織ID = 部門．組織ID LEFT OUTER JOIN 組織 AS 事業部 ON 部門．上位組織ID = 事業部．組織ID
        - 検索条件: プロジェクト．プロジェクトID = プロジェクトID(リクエストパラメータ)
    - (b) 上記で取得した顧客IDをパラメータとして、顧客管理システム．顧客詳細取得APIを実行し顧客名を取得する。
3. 表示処理
    - (a)「(2)-(a) プロジェクト検索条件」の検索結果がない場合
        - 汎用エラー画面を表示する。
    - (b)「(2)-(a) プロジェクト検索条件」の検索結果がある場合
        - 検索結果を「プロジェクト詳細画面」に表示する。

#### 3.6.2. 戻るイベント
- 「2.WA1020201(プロジェクト検索画面)：2.6.画面イベント詳細：2.6.3.一覧検索イベント」を参照。
- 初期表示で受け取ったパラメータをリクエストパラメータとして送信する。

#### 3.6.3. 更新イベント
- 「2．WA1020301（プロジェクト更新画面）：2.6.画面イベント詳細：2.6.1.初期表示イベント」を参照。
- 検索画面から受け取ったプロジェクトIDをリクエストパラメータとして送信する。